{% layout "server/layouts/base.liquid" %}

{% block details %}

<main class="detail-container">
  <div class="card">
    <img src="{{ animalID.photos[0].medium | default: '/assets/no-image-available.png' }}" alt="{{ animalID.name }}" />
    <div class="info">
      <h1>{{ animalID.name }}</h1>

      {% assign idString = animalID.id | append: "" %}
      {% assign isFavorited = favorites contains idString %}
      <form method="POST" action="/favorite">
        <input type="hidden" name="animalId" value="{{ animalID.id }}">
        <button type="submit" class="favorite-btn">
          {% if isFavorited %}
            ü©∑
          {% else %}
            ü§ç
          {% endif %}
        </button>
      </form>
      

      <p><strong>Type:</strong> {{ animalID.type }}</p>
      <p><strong>Ras:</strong> {{ animalID.breeds.primary }}</p>
      <p><strong>Leeftijd:</strong> {{ animalID.age }}</p>
      <p><strong>Geslacht:</strong> {{ animalID.gender }}</p>
      <p><strong>Beschrijving:</strong> {{ animalID.description | default: 'Geen beschrijving beschikbaar.' }}</p>

      {% if animalID.contact.email %}
        <p><strong>Contact:</strong> <a href="mailto:{{ animalID.contact.email }}">{{ animalID.contact.email }}</a></p>
      {% endif %}


      {% if cityInfo %}
        <h2>üìç Locatie: {{ cityInfo.city }}, {{ cityInfo.country }}</h2>
        <p>Co√∂rdinaten: {{ cityInfo.latitude }}, {{ cityInfo.longitude }}</p>
      
        {% if regionInfo %}
          <p>üó∫Ô∏è Regio: {{ regionInfo.name }} ({{ regionInfo.code }})</p>
        {% endif %}
      
        <iframe
          width="100%"
          height="300"
          frameborder="0"
          style="border:0; border-radius: 12px;"
          src="https://maps.google.com/maps?q={{ cityInfo.latitude }},{{ cityInfo.longitude }}&z=12&output=embed"
          allowfullscreen>
        </iframe>
      {% else %}
        <p>Locatiegegevens zijn niet beschikbaar.</p>
      {% endif %}
      

      <a href="/">‚Üê Terug naar overzicht</a>
    </div>
  </div>
</main>

{% endblock %}





