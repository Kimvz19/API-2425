{% layout "server/layouts/base.liquid" %}

{% block details %}


<div class="detail-container">
  <h1>Hi there! My name is {{ animalID.name }}</h1>

  <div class="detail-card">
  
    <div class="main-image">
      <img 
      id="mainImage"
      src="{{ animalID.photos[0].medium | default: '/assets/no-image-available.png' }}"
      alt="{{ animalID.name }}"
      class="clickable-image"
    />
  
     <!-- Lightbox overlay -->
  <div class="lightbox" id="lightbox">
    <figure class="lightbox-image" id="lightboxImage">
      <!-- Image will be moved here via JS -->
    </figure>
  </div>

     {% assign idString = animalID.id | append: "" %}
      {% assign isFavorited = favorites contains idString %}
      <form method="POST" action="/favorite">
        <input type="hidden" name="animalId" value="{{ animalID.id }}">
        <button type="submit" class="favorite-btn">
          {% if isFavorited %}
            ü©∑
          {% else %}
            ü§ç
          {% endif %}
        </button>
      </form>
    </div>

  
    <div class="card-text">

      <section class="description-box">
        <h2>Over {{ animalID.name }}</h2>
        <p>{{ animalID.description }}</p>
        {% if animalID.description contains "..." %}
          <p><em>Er is meer over {{ animalID.name }} te ontdekken op Petfinder! üíï</em></p>
          <a href="{{ animalID.url }}" target="_blank" class="external-link">Lees verder op Petfinder</a>
        {% endif %}
      </section>

      <div class="info">
        <div class="info-selections">
          <p>{{ animalID.type }}</p>
          <p>{{ animalID.breeds.primary }}</p>
          <p>{{ animalID.age }}</p>
          <p>{{ animalID.gender }}</p>
        </div>
      </div>

    </div> <!-- einde .card-text -->
  </div> <!-- einde .detail-card -->

  {% if animalID.photos.size > 1 %}
    <div class="image-gallery">
      {% for photo in animalID.photos offset:1 %}
        <img src="{{ photo.medium }}" alt="{{ animalID.name }} extra foto" />
      {% endfor %}
    </div>
  {% endif %}

  <section class="location">
    {% if cityInfo %}
      <h2>üìç Locatie: {{ cityInfo.city }}, {{ cityInfo.country }}</h2>
      {% if regionInfo %}
        <p>üó∫Ô∏è Regio: {{ regionInfo.name }} ({{ regionInfo.code }})</p>
      {% endif %}
      <iframe
        width="100%"
        height="300"
        frameborder="0"
        style="border:0; border-radius: 12px;"
        src="https://maps.google.com/maps?q={{ cityInfo.latitude }},{{ cityInfo.longitude }}&z=12&output=embed"
        allowfullscreen>
      </iframe>
    {% else %}
      <p>Locatiegegevens zijn niet beschikbaar.</p>
    {% endif %}
  </section>

  <a href="/">‚Üê Terug naar overzicht</a>
</div>




{% endblock %}




